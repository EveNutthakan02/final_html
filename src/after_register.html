<!-- after -->
<!DOCTYPE html>
<html lang="th">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AFTER REGISTER</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f9f9f9;
        margin: 0;
        padding: 0; /* กำจัด padding ของ body //padding: 20px;*/
      }
      iframe {
        width: 100%;
        height: 500px;
        border: none;
      }
      .iframe-wrapper {
        width: 100%;
        margin: 0;
        padding: 0;
      }
      * {
        box-sizing: border-box;
      }
      .form-container {
        max-width: 800px;
        margin: 20px auto; /* เพิ่มค่า margin-top ที่นี่ */
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
      }

      

      /* Responsive Design */
      @media (max-width: 768px) {
        .form-container {
          width: 90%;
          padding: 15px;
        }

       
      }
    </style>
  </head>
  <body>
    <!-- Banner -->
    <div>
      <iframe src="banner.html"></iframe>
    </div>
    <div class="form-container">
      <!-- Search Box -->
      <div class="text-center py-4 mb-4">
        <h1 class="text-3xl font-bold text-center">
          ค้นหารายชื่อผู้ขอรับสิทธิ
        </h1>
      </div>
        <div
          class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-6"
        >
            <div class="relative w-full md:w-auto">
              <input
                type="text"
                id="searchInput"
                placeholder="เลขบัตรประจำตัวประชาชน13หลัก"
                class="w-full md:w-80 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                required
              />
            </div>
         
            <button
              id="searchButton"
              class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"
              onclick="window.location.href='after_register.html'"
            >
              ค้นหา
            </button>
        </div>
      

      <!-- Rights -->
      <div class="mt-8 text-center text-2xl font-bold">
        <h1 >สิทธิรับเหรียญชัยสมรภูมิ : </h1><!-- <span id="rights" class="font-semibold"></span> -->
        <h1 class="text-green-700"> พบข้อมูลของคุณ </h1>
      </div>

      <!-- ข้อมูลผู้รับสิทธิ -->
      <form class="mt-5">
        <h5 class="text-lg font-bold">ผู้รับสิทธิ</h5>
        <div class="grid md:grid-cols-2 gap-4 mb-4">
          <div class="mt-2">
            <label
              for="idRights"
              class="block text-sm font-medium text-gray-900"
              >เลขประจำตัวประชาชน</label
            >
            <output
              id="idRights"
              name="idRights"
              class="block w-48 p-2 bg-gray-100 rounded-md border border-gray-300"
            >1234567890123</output>
          </div>
          <div class="output-group">
            <label
              for="nameRights"
              class="block text-sm font-medium text-gray-900"
              >ชื่อ-สกุล</label
            >

            <output
              id="nameRights"
              name="nameRights"
              class="block w-48 p-2 bg-gray-100 rounded-md border border-gray-300"
            >ร.ต. อนุชา กล้าหาญ</output>
          </div>
        </div>
        <!-- ข้อมูลผู้ขอรับสิทธิ -->
        
        <h5 class="text-lg font-bold">ผู้ขอรับสิทธิ</h5>
        <div class="grid md:grid-cols-2 gap-4 mb-4">
          <div class="mt-2">
            <label
              for="giveRights-id"
              class="block text-sm font-medium text-gray-900"
              >เลขประจำตัวประชาชน</label
            >
            <output
              id="giveRights-id"
              name="giveRights-id"
              class="block w-48 p-2 bg-gray-100 rounded-md border border-gray-300"
            >1234567890111</output>
          </div>

          <div class="mt-2">
            <label
              for="giveRights-name"
              class="block text-sm font-medium text-gray-900"
              >ชื่อ-สกุล</label
            >
            <output
              id="giveRights-name"
              name="giveRights-name"
              class="block w-48 p-2 bg-gray-100 rounded-md border border-gray-300"
            >นาย เอกพล หาญกล้า</output>
          </div>
        </div>
        <!-- วันที่ขอรับสิทธิ dateVerify -->
        <h5 class="text-lg font-bold">วันที่ขอรับสิทธิ</h5>
        <div class="grid md:grid-cols-2 gap-4 mb-4">
          <output
            id="show-dateVerify"
            name="show-dateVerify"
            class="block w-48 p-2 bg-gray-100 rounded-md border border-gray-300"
          >13 ตุลาคม 2567</output>
        </div>
      </form>
    </div>

    <script>
      // //ค้นหาข้อมูล
      // document
      //   .getElementById("searchButton")
      //   .addEventListener("click", function (event) {
      //     event.preventDefault(); // ป้องกันการเปลี่ยนหน้าโดยตรง

      //     const searchInput = document
      //       .getElementById("searchInput")
      //       .value.trim();

      //     if (!searchInput) {
      //       alert("กรุณากรอกเลขบัตรประจำตัวประชาชน 13 หลัก");
      //       return;
      //     }

      //     // เรียก API เพื่อตรวจสอบข้อมูล
      //     fetch(`http://localhost:3000/search?id=${searchInput}`)
      //       .then((response) => response.json())
      //       .then((data) => {
      //         if (data.found) {
      //           // แสดงผลเมื่อพบข้อมูล
      //           // เก็บข้อมูลลง sessionStorage
      //           sessionStorage.setItem(
      //             "pushNotifications",
      //             data.data.pushNotifications
      //           );
      //           sessionStorage.setItem("idCard", searchInput);
      //           sessionStorage.setItem("titleName", data.data.titleName);
      //           sessionStorage.setItem("firstName", data.data.firstName);
      //           sessionStorage.setItem("lastName", data.data.lastName);

      //           sessionStorage.setItem("warEvent", data.data.warEvent);
      //           sessionStorage.setItem("book", data.data.book);
      //           sessionStorage.setItem("pages", data.data.pages);
      //           sessionStorage.setItem("pushOption", data.data.pushOption);
      //           sessionStorage.setItem("idHeir", data.data.idHeir || "");
      //           sessionStorage.setItem("titleHeir", data.data.titleHeir || "");
      //           sessionStorage.setItem("firstHeir", data.data.firstHeir || "");
      //           sessionStorage.setItem("lastHeir", data.data.lastHeir || "");

      //           sessionStorage.setItem(
      //             "affiliationName",
      //             data.data.affiliationName
      //           );
      //           sessionStorage.setItem("bookNum", data.data.bookNum);
      //           sessionStorage.setItem("bookDate", data.data.bookDate);
      //           sessionStorage.setItem("dateVerify", data.data.dateVerify);
      //           sessionStorage.setItem("message", "พบข้อมูลของคุณ");
      //         } else {
      //           // แสดงผลเมื่อไม่พบข้อมูล
      //           sessionStorage.setItem("message", "ไม่พบข้อมูลของคุณ");
      //         }

      //         // เปลี่ยนหน้าไปยัง after_register.html
      //         window.location.href = "after_register.html";
      //       })
      //       .catch((error) => {
      //         console.error("เกิดข้อผิดพลาด:", error);
      //         alert("ไม่สามารถค้นหาข้อมูลได้ กรุณาลองใหม่อีกครั้ง");
      //       });
      //   });

      // // อัปเดตข้อความใน <span id="rights">
      // document.addEventListener("DOMContentLoaded", () => {
      //   const message = sessionStorage.getItem("message");
      //   const rightsElement = document.getElementById("rights");
      //   rightsElement.textContent = message;
      //   const formElement = document.querySelector("form");

      //   if (message === "พบข้อมูลของคุณ") {
      //     rightsElement.classList.add("text-green-700"); // สีเขียวเข้ม
      //     rightsElement.classList.remove("text-red-700");

          // const idCard = sessionStorage.getItem("idCard");
          // const titleName = sessionStorage.getItem("titleName");
          // const firstName = sessionStorage.getItem("firstName");
          // const lastName = sessionStorage.getItem("lastName");
          // const idHeir = sessionStorage.getItem("idHeir");
          // const titleHeir = sessionStorage.getItem("titleHeir");
          // const firstHeir = sessionStorage.getItem("firstHeir");
          // const lastHeir = sessionStorage.getItem("lastHeir");

          // document.getElementById("idRights").textContent = idCard;
          // document.getElementById(
          //   "nameRights"
          // ).textContent = `${titleName} ${firstName} ${lastName}`;
          // document.getElementById("giveRights-id").textContent =
          //   idHeir || idCard;
          // document.getElementById("giveRights-name").textContent = idHeir
          //   ? `${titleHeir} ${firstHeir} ${lastHeir}`
          //   : `${titleName} ${firstName} ${lastName}`;

          // // เพิ่มปุ่มแก้ไข
          // const buttonContainer = document.createElement("div");
          // buttonContainer.className = "flex justify-center space-x-4 mt-8";

          // const editButton = document.createElement("button");
          // editButton.id = "editButton";
          // editButton.className =
          //   "px-6 py-2 mb-12  text-white font-bold rounded-lg bg-gray-500"; //bg-yellow-500 hover:bg-yellow-600  เปิดใช้เอากลับไปใส่ในโค้ด
          // editButton.textContent = "แก้ไข";
          // editButton.onclick = () => {
          //   //sessionStorage.setItem("editId", sessionStorage.getItem("idCard")); // เก็บ id ไว้
          //   window.location.href = "#"; //edit.html เปิดใช้เอากลับไปใส่ในโค้ด
          // };

          // // เพิ่มปุ่มยื่นเรื่องใหม่
          // const resubmitButton = document.createElement("button");
          // resubmitButton.id = "resubmitButton";
          // resubmitButton.className =
          //   "px-6 py-2 mb-12  text-white font-bold rounded-lg bg-gray-500"; //bg-red-500 hover:bg-red-600 เปิดใช้เอากลับไปใส่ในโค้ด
          // resubmitButton.textContent = "ยื่นเรื่องใหม่อีกครั้ง";
          // resubmitButton.onclick = () => {
          //   window.location.href = "#"; //resubmit.html เปิดใช้เอากลับไปใส่ในโค้ด
          // };

          // buttonContainer.appendChild(editButton);
          // buttonContainer.appendChild(resubmitButton);
          // formElement.parentElement.appendChild(buttonContainer);
        // } 
        // else {
        //   rightsElement.classList.add("text-red-700"); // สีแดงเข้ม
        //   rightsElement.classList.remove("text-green-700");
        //   // ซ่อนฟอร์มและ output
        //   formElement.style.display = "none";
        // }
      // });
      // document.addEventListener("DOMContentLoaded", () => {
      //   const dateVerify = sessionStorage.getItem("dateVerify");

      //   if (dateVerify) {
      //     const formattedDate = formatThaiDate(dateVerify);
      //     document.getElementById("show-dateVerify").textContent =
      //       formattedDate;
      //   } else {
      //     document.getElementById("show-dateVerify").textContent =
      //       "ไม่มีข้อมูล";
      //   }
      // });

      // // ฟังก์ชันแปลงวันที่เป็นรูปแบบไทย
      // function formatThaiDate(dateString) {
      //   const date = new Date(dateString);
      //   const thaiMonths = [
      //     "มกราคม",
      //     "กุมภาพันธ์",
      //     "มีนาคม",
      //     "เมษายน",
      //     "พฤษภาคม",
      //     "มิถุนายน",
      //     "กรกฎาคม",
      //     "สิงหาคม",
      //     "กันยายน",
      //     "ตุลาคม",
      //     "พฤศจิกายน",
      //     "ธันวาคม",
      //   ];

      //   const day = date.getUTCDate(); // วันที่
      //   const month = thaiMonths[date.getUTCMonth()]; // เดือน (index 0-11)
      //   const year = date.getUTCFullYear() + 543; // แปลงเป็น พ.ศ.

      //   return `${day} ${month} ${year}`;
      // }
    </script>
  </body>
</html>
