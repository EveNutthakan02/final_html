<!DOCTYPE html>
<html lang="th">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SEARCH</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <div class="iframe-wrapper">
      <iframe src="banner.html"></iframe>
    </div>
    <div class="form-container"
    >
      <div class="text-center py-4 mb-4">
        <h1 class="text-3xl md:text-3xl font-bold">
          ค้นหารายชื่อผู้ขอรับสิทธิ
        </h1>
      </div>

      <!-- Search Box with Placeholder Animation -->
      <div
        class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-6"
      >
        <div class="relative w-full md:w-auto">
          <input
            type="text"
            id="searchInput"
            placeholder=" "
            class="peer w-80 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center"
            required
          />
          <label
            for="searchInput"
            class="absolute left-4 top-2.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-2.5 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:top-0 peer-focus:text-blue-500 peer-focus:text-sm peer-valid:opacity-0"
          >
            เลขบัตรประจำตัวประชาชน13หลัก
          </label>
        </div>

        <button
          id="searchButton"
          class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"
          onclick="window.location.href='after_register.html'"
        >
          ค้นหา
        </button>
      </div>
    </div>

    <script>
      // document
      //   .getElementById("searchButton")
      //   .addEventListener("click", function (event) {
      //     event.preventDefault();
      //     const searchInput = document
      //       .getElementById("searchInput")
      //       .value.trim();
      //     if (!searchInput) {
      //       alert("กรุณากรอกเลขบัตรประจำตัวประชาชน 13 หลัก");
      //       return;
      //     }
      //     fetch(`http://localhost:3000/search?id=${searchInput}`)
      //       .then((response) => response.json())
      //       .then((data) => {
      //         sessionStorage.setItem(
      //           "message",
      //           data.found ? "พบข้อมูลของคุณ" : "ไม่พบข้อมูลของคุณ"
      //         );
      //         if (data.found) {
      //           Object.entries(data.data).forEach(([key, value]) => {
      //             sessionStorage.setItem(key, value || "");
      //           });
      //         }
      //         window.location.href = "after_register.html";
      //       })
      //       .catch((error) => {
      //         console.error("เกิดข้อผิดพลาด:", error);
      //         alert("ไม่สามารถค้นหาข้อมูลได้ กรุณาลองใหม่อีกครั้ง");
      //       });
      //   });
    </script>

    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f9f9f9;
        margin: auto; /* เพิ่มค่า margin-top ที่นี่ */
        padding: 0; /* กำจัด padding ของ body //padding: 20px;*/
      }
      iframe {
        width: 100%;
        height: 500px;
        border: none;
      }
      .iframe-wrapper {
        width: 100%;
        margin: 0;
        padding: 0;
      }
      .form-container {
        max-width: 800px;
        margin: 20px auto; /* เพิ่มค่า margin-top ที่นี่ */
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
      }
      /* Responsive Design */
      @media (max-width: 768px) {
        .form-container {
          width: 90%;
          padding: 15px;
        }
      }
    </style>
  </body>
</html>
